(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e){e.exports={APP_ID:7002608}},53:function(e,t,n){e.exports=n(85)},58:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(13),r=n.n(o),c=(n(58),n(32)),l=n(19),s=n(42),u=n(33),m=n(43),f=n(34),h=n(100),g=n(106),d=n(107),v=n(109),p=n(103),E=n(101),y=n(108),w=n(102),k=Object(h.a)({card:{minWidth:275}});var j=function(e){var t=k();return i.a.createElement(v.a,{className:t.card},i.a.createElement(E.a,null,i.a.createElement(w.a,{align:"center",variant:"h5",component:"h1"},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c! ",i.a.createElement("br",null),"\u0414\u043b\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u044f \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0447\u0435\u0440\u0435\u0437 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435.")),i.a.createElement(p.a,{style:{justifyContent:"center"}},i.a.createElement(y.a,{variant:"contained",size:"large",color:"primary",mx:"auto",onClick:e.login},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f")))},b=n(104),I=n(105),x=Object(h.a)({avatar:{margin:10,width:60,height:60}});var _=function(e){var t=x();return i.a.createElement(d.a,null,i.a.createElement(d.a,{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},i.a.createElement(b.a,{alt:e.info.name,src:e.info.photo,className:t.avatar}),i.a.createElement(w.a,{align:"center",variant:"h4"},e.info.name)),i.a.createElement(I.a,{variant:"fullWidth"}))},A=Object(h.a)({card:{minWidth:275},bigAvatar:{margin:3,width:90,height:90}});var L=function(e){var t=A();return i.a.createElement(v.a,{className:t.card},i.a.createElement(E.a,null,i.a.createElement(d.a,{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"center"},i.a.createElement(b.a,{alt:e.info.self.name,src:e.info.self.photo,className:t.bigAvatar}),i.a.createElement(w.a,{align:"center",variant:"h4"},e.info.self.name)),i.a.createElement(w.a,{align:"left",variant:"h5"},"\u0414\u0440\u0443\u0437\u044c\u044f:"),i.a.createElement(I.a,{variant:"fullWidth"}),e.info.friends.map(function(e,t){return i.a.createElement(_,{key:t,info:e})})),i.a.createElement(p.a,{style:{justifyContent:"center"}},i.a.createElement(y.a,{variant:"contained",size:"large",color:"primary",mx:"auto",onClick:e.logout},"\u0412\u044b\u0439\u0442\u0438")))},O=n(41).APP_ID,V=Object(h.a)({box:{minHeight:"60vh",marginTop:"12vh"}});function C(e){var t=V();return i.a.createElement(d.a,{className:t.box,display:"flex",alignItems:"center",justifyContent:"center"},e.children)}var K=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).logIn=function(){return n.VK.Auth.login(function(){return n.checkLogin()},2)},n.logOut=function(){return n.VK.Auth.logout(function(){return n.checkLogin()})},n.state={isLoading:!0,loggedIn:!1,info:{}},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"checkLogin",value:function(){var e=this;this.setState({isLoading:!0}),this.VK.Auth.getLoginStatus(function(t){"connected"===t.status?e.getInfo():e.setState({isLoading:!1,loggedIn:!1})})}},{key:"getInfo",value:function(){var e=this;this.VK.Api.call("users.get",{fields:["photo_200_orig"],v:"5.95"},function(t){return e.VK.Api.call("friends.get",{order:"random",count:5,fields:["photo_200_orig,"],v:"5.95"},function(n){t=t.response[0],n=n.response.items;var a={};a.self={name:"".concat(t.first_name," ").concat(t.last_name),photo:t.photo_200_orig},a.friends=n.map(function(e){return{name:"".concat(e.first_name," ").concat(e.last_name),photo:e.photo_200_orig}}),e.setState({info:a,isLoading:!1,loggedIn:!0})})})}},{key:"loadVkApi",value:function(){var e=this;this.setState({isLoading:!0}),window.vkAsyncInit=function(){window.VK.init({apiId:O}),e.VK=window.VK,e.checkLogin()},setTimeout(function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://vk.com/js/api/openapi.js?160",e.async=!0,document.head.appendChild(e)},0)}},{key:"componentDidMount",value:function(){this.loadVkApi()}},{key:"render",value:function(){return this.state.isLoading?i.a.createElement(f.Dots,null):i.a.createElement(g.a,{maxWidth:"sm"},i.a.createElement(C,null,this.state.loggedIn?i.a.createElement(L,{info:this.state.info,logout:this.logOut}):i.a.createElement(j,{login:this.logIn})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[53,1,2]]]);
//# sourceMappingURL=main.e48896dc.chunk.js.map