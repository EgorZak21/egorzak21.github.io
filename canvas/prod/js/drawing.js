function giperS(a){var e=parseFloat(a.x.value),d=parseFloat(a.y.value),i=parseFloat(a.a.value),r=parseFloat(a.b.value),t=a.clr.value;return isNaN(i)||isNaN(r)||isNaN(e)||isNaN(d)?(alert("введите корректные коэффициенты"),!1):0==r||0==i?(alert("a и b не должны быть равны 0"),!1):void BGiper(e,d,Math.abs(i),Math.abs(r),t)}function parabS(a){var e=parseFloat(a.x.value),d=parseFloat(a.y.value),i=parseFloat(a.p.value),r=a.clr.value;return isNaN(i)||isNaN(e)||isNaN(d)?(alert("введите корректные коэффициенты"),!1):0==i?(alert("p не должен быть равен 0"),!1):void BParab(e,d,i,r)}function ellipseS(a){var e=parseFloat(a.x.value),d=parseFloat(a.y.value),i=parseFloat(a.a.value),r=parseFloat(a.b.value),t=a.clr.value;return isNaN(i)||isNaN(r)||isNaN(e)||isNaN(d)?(alert("введите корректные коэффициенты"),!1):0==r||0==i?(alert("a и b не должны быть равны 0"),!1):void BEllipse(e,d,Math.abs(i),Math.abs(r),t)}function circlS(a){var e=parseFloat(a.x.value),d=parseFloat(a.y.value),i=parseFloat(a.r.value),r=a.clr.value;return isNaN(i)||isNaN(e)||isNaN(d)?(alert("введите корректные коэффициенты"),!1):0==i?(alert("r не должен быть равен 0"),!1):void BEllipse(e,d,Math.abs(i),Math.abs(i),r)}function lineS(a){var e=parseFloat(a.a.value),d=parseFloat(a.b.value),i=parseFloat(a.c.value),r=a.clr.value;return isNaN(e)||isNaN(d)||isNaN(i)?(alert("введите корректные коэффициенты"),!1):0==e&&0==d?(alert("из коэффициентов a и b хотя бы один должен быть не равен 0"),!1):void BLine(e,d,i,r)}function linoS(a){var e=parseFloat(a.k.value),d=parseFloat(a.b.value),i=a.clr.value;if(isNaN(e)||isNaN(d))return alert("введите корректные коэффициенты"),!1;0==e&&alert("k не должен быть равен 0"),BLine(e,-1,-d,i)}function gS(a){var e=parseFloat(a.k.value),d=parseFloat(a.y.value),i=parseFloat(a.x.value),r=a.clr.value;if(isNaN(e)||isNaN(i)||isNaN(d))return alert("введите корректные коэффициенты"),!1;0==e&&alert("k не должен быть равен 0"),Bg(i,d/2,e,r)}function paraS(a){var e=parseFloat(a.a.value),d=parseFloat(a.b.value),i=parseFloat(a.c.value),r=a.clr.value;return isNaN(e)||isNaN(d)||isNaN(i)?(alert("введите корректные коэффициенты"),!1):0==e?(alert("a должен быть не равен 0"),!1):void Bpara(e,d,i,r)}function createOs(){draw.beginPath(),draw.clearRect(0,0,wid,hei),draw.fillRect(pad,pad,wid-2*pad,hei-2*pad),draw.strokeStyle="#AAA";for(a=-9;a<=9;a++)Aty+a*((wid-pad)/20)>pad&&Aty+a*((wid-pad)/20)<hei-pad&&(draw.moveTo(pad,Aty+a*((wid-pad)/20)),draw.lineTo(wid-pad,Aty+a*((wid-pad)/20))),draw.moveTo(Atx+a*((wid-pad)/20),hei-pad),draw.lineTo(Atx+a*((wid-pad)/20),pad);if(draw.stroke(),draw.beginPath(),draw.moveTo(0,0),draw.lineTo(0,0),draw.strokeStyle="#111",Ax<msh&&Ax>-msh){for(draw.moveTo(pad,Aty),draw.lineTo(wid-pad-2,Aty),draw.lineTo(wid-pad-15,Aty-7),draw.moveTo(wid-pad-2,Aty),draw.lineTo(wid-pad-15,Aty+7),a=-9;a<=9;a++)draw.moveTo(Atx+a*((wid-pad)/20),Aty+5),draw.lineTo(Atx+a*((wid-pad)/20),Aty-5),(a+20)%2==1&&$(window).width()<900||draw.strokeText(msh/20*a,Atx+a*((wid-pad)/20)-3,Aty);for(a=-19;a<=19;a++)draw.moveTo(Atx+a*((wid-pad)/40),Aty+3),draw.lineTo(Atx+a*((wid-pad)/40),Aty-3)}if(Ay<msh&&Ay>-msh){draw.moveTo(Atx,hei-pad),draw.lineTo(Atx,pad+2),draw.lineTo(Atx+7,pad+15),draw.moveTo(Atx-7,pad+15),draw.lineTo(Atx,pad+2);for(var a=-9;a<=9;a++)Aty+a*((wid-pad)/20)>pad&&Aty+a*((wid-pad)/20)<hei-pad&&(draw.moveTo(Atx-5,Aty+a*((wid-pad)/20)),draw.lineTo(Atx+5,Aty+a*((wid-pad)/20)),(a+20)%2==1&&$(window).width()<900||draw.strokeText(-msh/20*a,Atx-3,Aty+a*((wid-pad)/20)));for(a=-19;a<=19;a++)Aty+a*((wid-pad)/40)>pad&&Aty+a*((wid-pad)/40)<hei-pad&&(draw.moveTo(Atx+3,Aty+a*((wid-pad)/40)),draw.lineTo(Atx-3,Aty+a*((wid-pad)/40)))}draw.stroke()}function BGiper(a,e,d,i,r){draw.beginPath(),draw.moveTo(0,0),draw.strokeStyle=r;var t,l,o,w=(wid-2*pad)/msh,p=.1,s=1;for(console.log(w),t=pad;t>=pad;t+=p)((l=(t-pad)/w-msh/2)-a)*(l-a)/(d*d)-1>=0?(o=s*Math.sqrt(i*i*((l-a)*(l-a)/(d*d)-1))+e,draw.lineTo(t+25*e/w,hei/2-o*w-25*e/w)):(p=-p,s=-s);for(draw.moveTo(wid,hei),t=wid-pad;t<=wid-pad;t+=p)((l=(t-pad)/w-msh/2)-a)*(l-a)/(d*d)-1>=0?(o=s*Math.sqrt(i*i*((l-a)*(l-a)/(d*d)-1))+e,draw.lineTo(t+25*e/w,hei/2-o*w-25*e/w)):(p=-p,s=-s);draw.stroke(),draw.clearRect(0,0,pad,hei),draw.clearRect(0,0,wid,pad),draw.clearRect(0,hei-pad,wid,pad),draw.clearRect(wid-pad,0,pad,hei)}function BParab(a,e,d,i){draw.beginPath(),draw.moveTo(wid,hei),draw.strokeStyle=i;var r,t,l,o=(wid-2*pad)/msh,w=1,p=1;for(r=wid-pad;r<=wid-pad;r-=w)d*((t=(r-pad)/o-msh/2)-a)>=0?(l=p*Math.sqrt(d*(t-a))+e,draw.lineTo(r+a,hei/2-l*o-15*e/o)):(console.log("erock"+t),w=-w,p=-p);draw.stroke(),draw.clearRect(0,0,pad,hei),draw.clearRect(0,0,wid,pad),draw.clearRect(0,hei-pad,wid,pad),draw.clearRect(wid-pad,0,pad,hei)}function BEllipse(a,e,d,i,r){var t=(wid-2*pad)/msh;draw.beginPath(),draw.strokeStyle=r,draw.ellipse(wid/2+a*t,hei/2-e*t,d*t,i*t,0*Math.PI/180,180*Math.PI/180,3*Math.PI),draw.stroke(),draw.clearRect(0,0,pad,hei),draw.clearRect(0,0,wid,pad),draw.clearRect(0,hei-pad,wid,pad),draw.clearRect(wid-pad,0,pad,hei)}function BLine(a,e,d,i){var r,t,l=(wid-2*pad)/msh;draw.beginPath(),draw.strokeStyle=i,0!=e?(t=(-a*(r=-msh/2)+d)/e,draw.moveTo(wid/2+l*r,hei/2-t*l),t=(-a*(r=msh/2)+d)/e,draw.lineTo(wid/2+l*r,hei/2-t*l)):(draw.moveTo(wid/2+l*(-d/a),pad),draw.lineTo(wid/2+l*(-d/a),hei-pad)),draw.stroke(),draw.clearRect(0,0,pad,hei),draw.clearRect(0,0,wid,pad),draw.clearRect(0,hei-pad,wid,pad),draw.clearRect(wid-pad,0,pad,hei)}function Bg(a,e,d,i){var r,t,l,o=(wid-2*pad)/msh,w=!0;for(draw.beginPath(),draw.strokeStyle=i,d<0?draw.moveTo(0,0):draw.moveTo(0,hei),r=pad;r<wid-pad;r++)0!=(l=(r-pad)/o-msh/2-a)?(t=e+d/l+e,w&&l>0&&(w=!1,d>0?draw.moveTo(0,0):draw.moveTo(0,hei)),draw.lineTo(r,hei/2-t*o)):d>0?draw.moveTo(0,0):draw.moveTo(0,hei);draw.stroke(),draw.clearRect(0,0,pad,hei),draw.clearRect(0,0,wid,pad),draw.clearRect(0,hei-pad,wid,pad),draw.clearRect(wid-pad,0,pad,hei)}function Bpara(a,e,d,i){draw.beginPath(),draw.moveTo(wid,hei),draw.strokeStyle=i;var r,t,l,o=(wid-2*pad)/msh;for(a>0?draw.moveTo(0,0):draw.moveTo(0,hei),r=pad;r<wid-pad;r++)l=a*(t=(r-pad)/o-msh/2)*t+t*e+d,draw.lineTo(r,-l*o+hei/2);draw.stroke(),draw.clearRect(0,0,pad,hei),draw.clearRect(0,0,wid,pad),draw.clearRect(0,hei-pad,wid,pad),draw.clearRect(wid-pad,0,pad,hei)}$(document).ready(function(){$("#giperS").attr("onsubmit","giperS(this)"),$("#parabS").attr("onsubmit","parabS(this)"),$("#ellipseS").attr("onsubmit","ellipseS(this)"),$("#cicrleS").attr("onsubmit","circlS(this)"),$("#lineS").attr("onsubmit","lineS(this)"),$("#gS").attr("onsubmit","gS(this)"),$("#paraS").attr("onsubmit","paraS(this)"),$("#linoS").attr("onsubmit","linoS(this)")}),$("#clear").on("click",function(){createOs()}),$("#msh1").on("click",function(){msh=10,createOs()}),$("#msh2").on("click",function(){msh=20,createOs()}),$("#msh3").on("click",function(){msh=50,createOs()}),$("#msh4").on("click",function(){msh=100,createOs()}),$("#msh5").on("click",function(){msh=200,createOs()}),$("#msh6").on("click",function(){msh=500,createOs()}),$("#msh7").on("click",function(){msh=1e3,createOs()}),$("#msh8").on("click",function(){msh=2e3,createOs()}),$(".main-display").height($(".main-display").width());var can=document.getElementById("display");can.width=$(".main-display").width(),can.height=$(".main-display").height();var wid=can.width,hei=can.height,Atx=wid/2,Aty=hei/2,Ax=0,Ay=0,msh=20,draw=can.getContext("2d"),pad=20;draw.lineWidth=2,draw.strokeStyle="#F00",draw.textAlign="right",draw.textBaseline="top",draw.font="italic 11pt san-serif",draw.fillStyle="#F8F8F8",draw.fillRect(pad,pad,wid-2*pad,hei-2*pad),createOs(),$(window).resize(function(){location.reload(),$(".main-display").height($(".main-display").width()),wid=can.width,hei=can.hei,Atx=wid/2,Aty=hei/2,createOs()});